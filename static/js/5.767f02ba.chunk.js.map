{"version":3,"sources":["views/PhoneBookView/new-contact-fields.js","views/PhoneBookView/PhoneBookView.css.jsx","views/PhoneBookView/PhoneBookView.jsx","views/PhoneBookView/PhoneBookView.container.js"],"names":["fieldsForNewContactForm","label","type","name","startValue","PhoneBookEl","styled","div","Title","h1","globalStyles","mainColor","PhoneBookView","state","isModalShow","onSubmitAddContact","contact","props","contacts","addContact","createErrorText","undefined","find","onSubmitEditContact","number","idForEdit","editName","editNumber","editContact","setEditContactId","id","onCloseEditModal","this","getContacts","loading","CSSTransition","in","appear","classNames","timeout","btnCaption","fields","onSubmitForm","length","unmountOnExit","onClose","Component","connect","phoneBookSelectors","getLoading","getEditContactId","getEditContact","dispatch","phoneBookOperations","phoneBookActions","errorText","globalDataActions"],"mappings":"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","file":"static/js/5.767f02ba.chunk.js","sourcesContent":["const fieldsForNewContactForm = [\r\n  {\r\n    label: 'Имя',\r\n    type: 'text',\r\n    name: 'name',\r\n    startValue: ''\r\n  },\r\n  {\r\n    label: 'Номер',\r\n    type: 'tel',\r\n    name: 'number',\r\n    startValue: ''\r\n  },\r\n]\r\n\r\nexport default fieldsForNewContactForm","import styled from 'styled-components';\r\n\r\nimport {globalStyles} from '../../components/GlobalStyles';\r\n\r\nconst PhoneBookEl = styled.div`\r\n\tposition: relative;\r\n\tmargin: 10px auto;\r\n\tpadding: 10px;\r\n\r\n\twidth: 500px;\r\n\toverflow: hidden;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\r\n\tcolor: ${globalStyles.mainColor};\r\n\ttransition: all 500ms;\r\n\r\n\t&.fade-appear {\r\n\t\ttransform: translateX(-100%);\r\n\t}\r\n\r\n\t&.fade-appear-active {\r\n\t\ttransform: translateX(0);\r\n\t}\r\n`;\r\n\r\nexport { PhoneBookEl, Title };\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport fieldsForNewContactForm from './new-contact-fields';\r\n\r\nimport {\r\n\tInputForm,\r\n\tContactsList,\r\n\tFilter,\r\n\tLoaderSpinner,\r\n\tModal\r\n} from '../../components';\r\n\r\nimport { PhoneBookEl, Title } from './PhoneBookView.css';\r\n\r\nclass PhoneBookView extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tshowNotification: PropTypes.bool\r\n\t}\r\n\r\n\tstate = {\r\n\t\tisModalShow: false,\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getContacts();\r\n\t}\r\n\r\n\tonSubmitAddContact = (contact) => {\r\n\t\tconst { name } = contact;\r\n\t\tconst { contacts, addContact, createErrorText } = this.props;\r\n\r\n\t\tconst isNameAlreadyExists = contacts.find(contact => contact.name === name);\r\n\t\tif (isNameAlreadyExists !== undefined) {\r\n\t\t\tcreateErrorText('Такой контакт уже существует');\r\n      return;\r\n\t\t}\r\n\t\taddContact(contact);\t\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tonSubmitEditContact = (contact) => {\r\n\t\tconst { name, number } = contact;\r\n\t\tconst {\r\n\t\t\tcontacts,\r\n\t\t\tidForEdit,\r\n\t\t\teditName,\r\n\t\t\teditNumber,\r\n\t\t\teditContact,\r\n\t\t\tsetEditContactId,\r\n\t\t\tcreateErrorText\r\n\t\t} = this.props;\r\n\r\n\t\tif (name === editName && number === editNumber) {\r\n\t\t\tsetEditContactId(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst isNameAlreadyExists = contacts.find(contact =>\r\n\t\t\tcontact.name === name && contact.id !== idForEdit\r\n\t\t);\r\n\t\tif (isNameAlreadyExists !== undefined) {\r\n\t\t\tcreateErrorText('Такой контакт уже существует');\r\n      return;\r\n\t\t}\r\n\t\teditContact(idForEdit, contact);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tonCloseEditModal = () => {\r\n\t\tconst { setEditContactId } = this.props;\r\n\r\n\t\tsetEditContactId(null);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { contacts, loading, idForEdit, editName, editNumber } = this.props;\r\n\t\tconst timeout = 250;\r\n\r\n\t\treturn (\r\n\t\t\t<PhoneBookEl>\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tin={true}\r\n\t\t\t\t\tappear={true}\r\n\t\t\t\t\tclassNames=\"fade\"\r\n\t\t\t\t\ttimeout={timeout}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Title>Телефонная книга</Title>\r\n\t\t\t\t</CSSTransition>\r\n\r\n\t\t\t\t<InputForm\r\n\t\t\t\t\tbtnCaption='Add contact'\r\n\t\t\t\t\tfields={fieldsForNewContactForm}\r\n\t\t\t\t\tonSubmitForm={this.onSubmitAddContact}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tin={contacts.length > 1}\r\n\t\t\t\t\tappear={true}\r\n\t\t\t\t\tclassNames=\"fade\"\r\n\t\t\t\t\ttimeout={timeout}\r\n\t\t\t\t\tunmountOnExit>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Filter />\r\n\t\t\t\t</CSSTransition>\r\n\t\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tloading && !idForEdit && <LoaderSpinner />\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t<ContactsList />\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tidForEdit &&\r\n\t\t\t\t\t<Modal onClose={this.onCloseEditModal}>\r\n\t\t\t\t\t\t<InputForm\r\n\t\t\t\t\t\t\tbtnCaption='Edit contact'\r\n\t\t\t\t\t\t\tfields={\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlabel: 'Name',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\tname: 'name',\r\n\t\t\t\t\t\t\t\t\t\tstartValue: editName,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlabel: 'Number',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'tel',\r\n\t\t\t\t\t\t\t\t\t\tname: 'number',\r\n\t\t\t\t\t\t\t\t\t\tstartValue: editNumber,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonSubmitForm={this.onSubmitEditContact}\r\n\t\t\t\t\t\t/>\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tloading && <LoaderSpinner />\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</PhoneBookEl>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PhoneBookView;","import { connect } from 'react-redux';\r\n\r\nimport {\r\n\tphoneBookSelectors,\r\n\tphoneBookActions,\r\n\tphoneBookOperations,\r\n\tglobalDataActions\r\n} from '../../redux';\r\n\r\nimport PhoneBookView from './PhoneBookView';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcontacts: phoneBookSelectors.getContacts(state),\r\n\t\tloading: phoneBookSelectors.getLoading(state),\r\n\t\tidForEdit: phoneBookSelectors.getEditContactId(state),\r\n\t\teditName: phoneBookSelectors.getEditContact(state)?.name,\r\n\t\teditNumber: phoneBookSelectors.getEditContact(state)?.number,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tgetContacts: () => dispatch(phoneBookOperations.getContacts()),\r\n\t\taddContact: (contact) => dispatch(phoneBookOperations.addContact(contact)),\r\n\t\teditContact: (id, contact) => dispatch(phoneBookOperations.editContact(id, contact)),\r\n\t\tsetEditContactId: id => dispatch(phoneBookActions.setEditContactId(id)),\r\n\t\tcreateErrorText: (errorText) => dispatch(globalDataActions.createErrorText(errorText)),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhoneBookView);"],"sourceRoot":""}